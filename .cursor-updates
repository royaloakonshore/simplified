# .cursor-updates

- Temporarily remove OrderForm and Invoices page to resolve build errors
- Refactored `OrdersPage` to wrap the part using `useSearchParams` in `<Suspense>`, fixing the build error.
- Implemented initial Invoice list page (`/invoices`) with tRPC backend, Shadcn DataTable, filtering, sorting, and pagination.
- Restored OrderForm component (`src/components/orders/OrderForm.tsx`) using separate form instances for create/edit modes to handle type complexity.
- Added Order creation page (`src/app/(erp)/orders/add/page.tsx`) using Server Component pattern to fetch data.
- Added Order edit page (`src/app/(erp)/orders/[id]/edit/page.tsx`) using Server Component pattern.
- Fixed `order.list` tRPC endpoint to handle optional status filter correctly.
- Added `order.update` tRPC endpoint.
- Added webpack fallbacks to `next.config.mjs` to resolve `nodemailer` build issues.
- Replaced basic ERP layout sidebar with collapsible shadcn/ui Sidebar component.
- Created `AppSidebar` component for sidebar structure and navigation items.
- Updated listOrdersSchema to use .nullish() for status filter to fix tRPC errors.
- Add explicit types for form values/instances in OrderForm.tsx and attempt to fix react-hook-form conflicts.
- Fix order list tRPC null status query, implement breadcrumbs, rename fulfillment to production, add firstName to user, implement Kanban board.
- Resolve parallel pages error, restore customer page, update docs, draft multi-tenancy plan.
- Fix nodemailer build error trigger, fix page layout inconsistencies, add first-admin logic.
- Fixed build error in `orders/[id]/edit` page caused by Next.js 15 async `params` change.
- Resolved subsequent TypeScript error in `OrderForm` related to `setValue`/`watch` union types.
- Implemented shadcn styled Sign In page for NextAuth (Email/Credentials).
- Added middleware redirect from root to /dashboard for authenticated users.
- Added Settings page with profile/password update forms and tRPC endpoints.
- Configured NextAuth Credentials provider using bcryptjs.
- Re-added webpack fallbacks for Node built-ins in `next.config.mjs` to resolve build errors caused by NextAuth Email provider dependency.
- Performed clean install (`rm -rf .next node_modules && npm install`) to resolve persistent build errors related to Node built-ins.
